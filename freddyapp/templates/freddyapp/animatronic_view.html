{% extends "freddyapp/base.html" %}

{% block title %}{{ animatronic.name }}{% endblock %}

{% block content %}
    <h1>{{ animatronic.name }}</h1>

    <div>
        <p><strong>Animal Type:</strong> {{ animatronic.get_animal_display }}</p>
        <p><strong>Build Date:</strong> {{ animatronic.build_date }}</p>
        <p><strong>Decommissioned:</strong> {% if animatronic.decommissioned %}Yes{% else %}No{% endif %}</p>
        
        {% if animatronic.parties.all %}
            <p><strong>Parties:</strong></p>
            <ul>
                {% for party in animatronic.parties.all %}
                    <li>{{ party.name }} ({{ party.attendants }} attendants)</li>
                {% endfor %}
            </ul>
        {% else %}
            <p><strong>Parties:</strong> None</p>
        {% endif %}
    </div>

    <div>
        <a href="{% url 'animatronic_list' %}">Back to list</a>
        
        {% if user.is_authenticated and perms.freddyapp.change_animatronic %}
            <a href="{% url 'animatronic_edit' animatronic.pk %}">Edit</a>
        {% endif %}
        
        {% if user.is_authenticated and perms.freddyapp.delete_animatronic %}
            <a href="{% url 'animatronic_delete' animatronic.pk %}">Delete</a>
        {% endif %}
    </div>
{% endblock %}
